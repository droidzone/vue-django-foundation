(function(e){function t(t){for(var n,s,a=t[0],l=t[1],i=t[2],d=0,b=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&b.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),o()}function o(){for(var e,t=0;t<c.length;t++){for(var o=c[t],n=!0,s=1;s<o.length;s++){var l=o[s];0!==r[l]&&(n=!1)}n&&(c.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={app:0},c=[];function s(e){return a.p+"js/"+({about:"about"}[e]||e)+".js"}function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.e=function(e){var t=[],o=r[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=n);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=s(e);var i=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(d);var o=r[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+c+")",i.name="ChunkLoadError",i.type=n,i.request=c,o[1](i)}r[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/static/clinic/vue/dist/",a.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=i;c.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0f38":function(e,t,o){},2596:function(e,t,o){"use strict";o("0f38")},"2df4":function(e,t,o){"use strict";o("6a17")},"4e19":function(e,t,o){"use strict";o("b98b")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("f2bf");function r(e,t,o,r,c,s){var a=Object(n["x"])("top-bar"),l=Object(n["x"])("section-title"),i=Object(n["x"])("router-view");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["h"])(a),Object(n["h"])(l),Object(n["h"])(i)],64)}var c={class:"top-bar"},s=Object(n["h"])("div",{class:"top-bar-left"},[Object(n["h"])("ul",{class:"menu"},[Object(n["h"])("li",{class:"menu-text"}," Shorten App ")])],-1),a={class:"top-bar-right"},l={class:"menu"},i=Object(n["g"])("Home"),d=Object(n["g"])("About"),u=Object(n["g"])("Dashboard");function b(e,t){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",c,[s,Object(n["h"])("div",a,[Object(n["h"])("ul",l,[Object(n["h"])("li",null,[Object(n["h"])(o,{to:"/"},{default:Object(n["D"])((function(){return[i]})),_:1})]),Object(n["h"])("li",null,[Object(n["h"])(o,{to:"/about"},{default:Object(n["D"])((function(){return[d]})),_:1})]),Object(n["h"])("li",null,[Object(n["h"])(o,{to:"/dashboard"},{default:Object(n["D"])((function(){return[u]})),_:1})])])])])}const h={};h.render=b;var g=h,f=Object(n["f"])('<div class="callout large primary"><div class="row"><div class="columns small-4"></div><div class="columns"><h1>Emr.cx link shortener!</h1></div><div class="columns small-4"></div></div></div>',1);function p(e,t,o,r,c,s){return Object(n["q"])(),Object(n["d"])("div",null,[f])}var j={};j.render=p;var m=j,O={name:"App",components:{TopBar:g,SectionTitle:m}};o("4e19");O.render=r;var v=O,k=o("9483");Object(k["a"])("".concat("/static/clinic/vue/dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});o("d3b7"),o("3ca3"),o("ddb0");var y=o("6c02"),L=Object(n["G"])("data-v-3852587a");Object(n["t"])("data-v-3852587a");var w={class:"home"},x=Object(n["h"])("i",{class:"fad fa-laptop-medical fa-20x green_light_green",style:{}},null,-1);Object(n["r"])();var _=L((function(e,t,o,r,c,s){var a=Object(n["x"])("HelloWorld");return Object(n["q"])(),Object(n["d"])("div",w,[x,Object(n["h"])(a,{msg:"Welcome to Short Links App"})])})),S=Object(n["G"])("data-v-00d04fe6");Object(n["t"])("data-v-00d04fe6");var A={class:"row"},C=Object(n["h"])("div",{class:"columns small-4"},null,-1),q={class:"columns"},D=Object(n["h"])("div",{class:"columns small-4"},null,-1);Object(n["r"])();var E=S((function(e,t,o,r,c,s){return Object(n["q"])(),Object(n["d"])("div",A,[C,Object(n["h"])("div",q,[Object(n["h"])("h1",null,Object(n["z"])(o.msg),1)]),D])})),T={name:"HelloWorld",props:{msg:String}};o("7327");T.render=E,T.__scopeId="data-v-00d04fe6";var I=T,P={name:"Home",components:{HelloWorld:I}};o("2df4");P.render=_,P.__scopeId="data-v-3852587a";var $=P,z={class:"grid-container"},B={class:"grid-x"},H={class:"cell small-11"},N={class:"margin-1"},U={class:"grid-container"},F={key:0,class:""},G=Object(n["g"])(" Loading from server.. "),M=Object(n["h"])("i",{class:"fad fa-spinner fa-spin fa-3x margin-2"},null,-1),R=Object(n["f"])('<div class="grid-x"><div class="cell small-1" style="border:2px solid #466d98;"> ID </div><div class="cell small-2" style="border:2px solid #466d98;"> Short Link </div><div class="cell small-6" style="border:2px solid #466d98;"> Long Link </div><div class="cell small-2" style="border:2px solid #466d98;"> Actions </div></div>',1),W={class:"cell small-1",style:{border:"2px solid #466d98"}},V={class:"cell small-2",style:{border:"2px solid #466d98"}},J={class:"cell small-6 text-left text-wrap",style:{border:"2px solid #466d98"}},Y={style:{"word-wrap":"break-word"}},K={class:"cell small-2",style:{border:"2px solid #466d98"}},Q={class:"cell small-1"},X=Object(n["h"])("i",{class:"fad fa-bolt"},null,-1),Z=Object(n["g"])(" Create ");function ee(e,t,o,r,c,s){return Object(n["q"])(),Object(n["d"])("div",z,[Object(n["h"])("div",B,[Object(n["h"])("div",H,[Object(n["h"])("div",N,[Object(n["h"])("div",U,[c.isLoading?(Object(n["q"])(),Object(n["d"])("div",F,[G,M])):Object(n["e"])("",!0),R,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(c.links,(function(e){return Object(n["q"])(),Object(n["d"])("div",{key:e.id,class:"grid-x"},[Object(n["h"])("div",W,Object(n["z"])(e.id),1),Object(n["h"])("div",V,[Object(n["h"])("a",{href:e.short_link},Object(n["z"])(e.short_link),9,["href"])]),Object(n["h"])("div",J,[Object(n["h"])("a",{href:e.long_link},[Object(n["h"])("span",Y,Object(n["z"])(e.long_link),1)],8,["href"])]),Object(n["h"])("div",K,[Object(n["h"])("button",{type:"button",class:"alert button",onClick:function(t){return s.deleteLink(e.id)}}," Delete ",8,["onClick"])])])})),128))])])]),Object(n["h"])("div",Q,[Object(n["h"])("button",{type:"button",class:"button",onClick:t[1]||(t[1]=function(){return s.CreateNew&&s.CreateNew.apply(s,arguments)})},[X,Z])])])])}var te=o("bc3a"),oe=o.n(te),ne={data:function(){return{links:[],isLoading:!0}},created:function(){var e=this;console.log("Getting from API"),this.isLoading=!0,oe.a.get("/api/links/").then((function(t){var o=t.data;console.log("data is"),console.log(o);var n=o.results;console.log("mylinks:"),console.log(n),e.links=n,e.isLoading=!1})).catch((function(t){console.log("An error occured"),e.isLoading=!1,t.response&&(console.log("error is ".concat(t)),console.log(t),e.$router.push({path:"/login"}))}))},methods:{doLogin:function(){console.log("router is"),console.log(this.$router)},deleteLink:function(e){var t=this;console.log("ID is ".concat(e,". Deleting..")),this.isLoading=!0,oe.a.delete("/api/links/".concat(e,"/")).then((function(e){var o=e.data;console.log("data is"),console.log(o);var n=o.results;console.log("results:"),console.log(n),t.isLoading=!1})).catch((function(e){console.log("An error occured"),t.isLoading=!1,e.response&&(console.log("error is ".concat(e)),console.log(e),t.$router.push({name:"Dashboard"}))}))},CreateNew:function(){this.$router.push({name:"CreateLink"})}}};ne.render=ee;var re=ne,ce=Object(n["G"])("data-v-a7dc752a");Object(n["t"])("data-v-a7dc752a");var se={class:"grid-x"},ae=Object(n["h"])("div",{class:"cell small-3"},null,-1),le={class:"cell small-6"},ie={class:"form-registration"},de=Object(n["h"])("figure",{class:"form-registration-img"},[Object(n["h"])("i",{class:"fad fa-laptop-medical fa-20x green_light_green",style:{}}),Object(n["h"])("figcaption",{class:"form-registration-img-caption"}," Login to create your own Short links from Long links. ")],-1),ue={class:"grid-x"},be=Object(n["h"])("div",{class:"cell small-3"},null,-1),he={class:"cell small-6"},ge=Object(n["h"])("input",{class:"form-registration-submit-button",type:"submit",value:"Login"},null,-1),fe={key:0,class:""},pe=Object(n["g"])(" Loading from server.. "),je=Object(n["h"])("i",{class:"fad fa-spinner fa-spin fa-3x margin-2"},null,-1),me=Object(n["h"])("p",{class:"form-registration-terms"},[Object(n["h"])("a",{href:"#"},"Terms & Conditions"),Object(n["g"])("|"),Object(n["h"])("a",{href:"#"},"Privacy")],-1);Object(n["r"])();var Oe=ce((function(e,t,o,r,c,s){return Object(n["q"])(),Object(n["d"])("div",se,[ae,Object(n["h"])("div",le,[Object(n["h"])("div",ie,[de,Object(n["h"])("form",{class:"form-registration-group",onSubmit:t[3]||(t[3]=Object(n["F"])((function(){return s.login&&s.login.apply(s,arguments)}),["prevent"]))},[Object(n["h"])("div",ue,[be,Object(n["h"])("div",he,[Object(n["E"])(Object(n["h"])("input",{name:"username",class:"form-registration-input",type:"text",placeholder:"Your username","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.username=e})},null,512),[[n["B"],c.username]]),Object(n["E"])(Object(n["h"])("input",{name:"password",class:"form-registration-input",type:"password",placeholder:"Your password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e})},null,512),[[n["B"],c.password]]),ge,c.isLoading?(Object(n["q"])(),Object(n["d"])("div",fe,[pe,je])):Object(n["e"])("",!0),me])])],32)])])])})),ve=(o("99af"),{data:function(){return{username:"",password:"",isLoading:!1}},methods:{login:function(){var e=this;this.isLoading=!0,console.log("Before logging in, username:".concat(this.username," password:").concat(this.password)),console.log("In login function..trying to obtain token."),this.$store.dispatch("login",{username:this.username,password:this.password}).then((function(){e.isLoading=!0,e.$router.push({name:"Dashboard"})})).catch((function(t){e.isLoading=!1,console.log("An error occured"),t.response&&(console.log("error is ".concat(t)),console.log(t))}))}}});o("2596");ve.render=Oe,ve.__scopeId="data-v-a7dc752a";var ke=ve,ye={class:"grid-container"},Le={class:"grid-x grid-padding-x"},we=Object(n["h"])("div",{class:"small-3 cell"},[Object(n["h"])("label",{for:"long-link",class:"text-right"},"Long Link")],-1),xe={class:"small-9 cell"},_e={class:"grid-x grid-padding-x"},Se={key:0,class:"small-9 cell margin-top-1 margin-bottom-2"},Ae=Object(n["g"])("Short link created at "),Ce={class:"grid-x grid-padding-x"},qe={class:"cell"},De=Object(n["h"])("i",{class:"fad fa-compress-arrows-alt"},null,-1),Ee=Object(n["g"])(" Shorten"),Te={key:0,class:""},Ie=Object(n["g"])(" Loading from server.. "),Pe=Object(n["h"])("i",{class:"fad fa-spinner fa-spin fa-3x margin-2"},null,-1);function $e(e,t,o,r,c,s){return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["h"])("div",ye,[Object(n["h"])("form",{onSubmit:t[3]||(t[3]=Object(n["F"])((function(){}),["prevent"]))},[Object(n["h"])("div",Le,[we,Object(n["h"])("div",xe,[Object(n["E"])(Object(n["h"])("input",{type:"text",id:"long-link","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.longLink=e}),placeholder:"Long link to be shortened",autocomplete:"off"},null,512),[[n["B"],c.longLink]])])]),Object(n["h"])("div",_e,[c.shortLink?(Object(n["q"])(),Object(n["d"])("div",Se,[Ae,Object(n["h"])("a",{href:c.shortLink},Object(n["z"])(c.shortLink),9,["href"])])):Object(n["e"])("",!0)]),Object(n["h"])("div",Ce,[Object(n["h"])("div",qe,[Object(n["h"])("button",{type:"submit",class:"button large",onClick:t[2]||(t[2]=function(){return s.CreateShortLink&&s.CreateShortLink.apply(s,arguments)})},[De,Ee])])]),c.isLoading?(Object(n["q"])(),Object(n["d"])("div",Te,[Ie,Pe])):Object(n["e"])("",!0)],32)])])}var ze={data:function(){return{longLink:"",shortLink:null,isLoading:!1}},methods:{CreateShortLink:function(){var e=this;this.isLoading=!0,oe.a.post("/api/links/",{long_link:this.longLink}).then((function(t){var o=t.data;e.isLoading=!1,console.log("data is"),console.log(o),o.short_link&&(e.shortLink=o.short_link)})).catch((function(t){e.isLoading=!1,console.log("An error occured"),t.response&&(console.log("error is ".concat(t)),console.log(t),e.$router.push({path:"/login"}))}))}}};ze.render=$e;var Be=ze,He=[{path:"/",name:"Home",component:$},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}},{path:"/dashboard",name:"Dashboard",component:re},{path:"/login",name:"Login",component:ke},{path:"/createlink",name:"CreateLink",component:Be}],Ne=Object(y["a"])({history:Object(y["b"])(),routes:He}),Ue=Ne,Fe=o("5502"),Ge=Object(Fe["a"])({state:{user_id:null,email:null,token:null},mutations:{SET_USER_DATA:function(e,t){console.log("In mutation:SET_USER_DATA user_id:".concat(t.user_id," email:").concat(t.email," token:").concat(t.token)),e.user_id=t.user_id,e.email=t.email,e.token=t.token,localStorage.setItem("user_id",t.user_id),localStorage.setItem("email",t.email),localStorage.setItem("token",t.token),oe.a.defaults.headers.common["Authorization"]="Token ".concat(t.token),console.log("Stored token as ".concat(oe.a.defaults.headers.common["Authorization"]))}},actions:{login:function(e,t){var o=this,n=e.commit;return oe.a.post("/api/api-token-auth/",{username:t.username,password:t.password}).then((function(e){var t=e.data;console.log("Login Successful!"),console.log("After trying to login, data is"),console.log(t),console.log("Commiting to store."),n("SET_USER_DATA",t)})).catch((function(e){console.log("An error occured"),console.log(e),e.response&&(console.log("Router is "),console.log(o.$router))}))}},modules:{}}),Me=o("2106"),Re=o.n(Me);Object(n["c"])(v).use(Ge).use(Ue).use(Re.a,oe.a).mount("#app")},"6a17":function(e,t,o){},7327:function(e,t,o){"use strict";o("90be")},"90be":function(e,t,o){},b98b:function(e,t,o){}});
//# sourceMappingURL=app.js.map