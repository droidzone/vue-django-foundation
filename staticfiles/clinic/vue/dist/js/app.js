(function(e){function t(t){for(var n,l,s=t[0],a=t[1],i=t[2],u=0,g=[];u<s.length;u++)l=s[u],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&g.push(r[l][0]),r[l]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);d&&d(t);while(g.length)g.shift()();return c.push.apply(c,i||[]),o()}function o(){for(var e,t=0;t<c.length;t++){for(var o=c[t],n=!0,l=1;l<o.length;l++){var a=o[l];0!==r[a]&&(n=!1)}n&&(c.splice(t--,1),e=s(s.s=o[0]))}return e}var n={},r={app:0},c=[];function l(e){return s.p+"js/"+({about:"about"}[e]||e)+".js"}function s(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(e){var t=[],o=r[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=n);var c,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=l(e);var i=new Error;c=function(t){a.onerror=a.onload=null,clearTimeout(u);var o=r[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+c+")",i.name="ChunkLoadError",i.type=n,i.request=c,o[1](i)}r[e]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:a})}),12e4);a.onerror=a.onload=c,document.head.appendChild(a)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/static/clinic/vue/dist/",s.oe=function(e){throw console.error(e),e};var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var d=i;c.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},1889:function(e,t,o){"use strict";o("ac45")},"4e19":function(e,t,o){"use strict";o("b98b")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("f2bf");function r(e,t,o,r,c,l){var s=Object(n["w"])("top-bar"),a=Object(n["w"])("section-title"),i=Object(n["w"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])(s),Object(n["g"])(a),Object(n["g"])(i)],64)}var c={class:"top-bar"},l=Object(n["g"])("div",{class:"top-bar-left"},[Object(n["g"])("ul",{class:"menu"},[Object(n["g"])("li",{class:"menu-text"}," Shorten App ")])],-1),s={class:"top-bar-right"},a={class:"menu"},i=Object(n["f"])("Home"),u=Object(n["f"])("About"),d=Object(n["f"])("Dashboard");function g(e,t){var o=Object(n["w"])("router-link");return Object(n["p"])(),Object(n["d"])("div",c,[l,Object(n["g"])("div",s,[Object(n["g"])("ul",a,[Object(n["g"])("li",null,[Object(n["g"])(o,{to:"/"},{default:Object(n["C"])((function(){return[i]})),_:1})]),Object(n["g"])("li",null,[Object(n["g"])(o,{to:"/about"},{default:Object(n["C"])((function(){return[u]})),_:1})]),Object(n["g"])("li",null,[Object(n["g"])(o,{to:"/dashboard"},{default:Object(n["C"])((function(){return[d]})),_:1})])])])])}const b={};b.render=g;var p=b,f=Object(n["g"])("div",{class:"callout large primary"},[Object(n["g"])("div",{class:"row column text-center"},[Object(n["g"])("h1",null,"Short Links App")])],-1);function m(e,t,o,r,c,l){return Object(n["p"])(),Object(n["d"])("div",null,[f])}var j={};j.render=m;var O=j,v={name:"App",components:{TopBar:p,SectionTitle:O}};o("4e19");v.render=r;var h=v,k=o("9483");Object(k["a"])("".concat("/static/clinic/vue/dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});o("d3b7"),o("3ca3"),o("ddb0");var y=o("6c02"),w=o("cf05"),S=o.n(w),_={class:"home"},x=Object(n["g"])("img",{alt:"Vue logo",src:S.a},null,-1);function A(e,t,o,r,c,l){var s=Object(n["w"])("HelloWorld");return Object(n["p"])(),Object(n["d"])("div",_,[x,Object(n["g"])(s,{msg:"Welcome to Short Links App"})])}var L=Object(n["F"])("data-v-3522889e");Object(n["s"])("data-v-3522889e");var C={class:"hello"},D=Object(n["g"])("p",null,null,-1);Object(n["q"])();var T=L((function(e,t,o,r,c,l){return Object(n["p"])(),Object(n["d"])("div",C,[Object(n["g"])("h1",null,Object(n["y"])(o.msg),1),D])})),E={name:"HelloWorld",props:{msg:String}};o("1889");E.render=T,E.__scopeId="data-v-3522889e";var P=E,I={name:"Home",components:{HelloWorld:P}};I.render=A;var U=I,$={class:"grid-container"},H={class:"grid-x"},N={class:"cell small-10"},M={class:"margin-1"},R={class:"grid-container"},V=Object(n["e"])('<div class="grid-x"><div class="cell small-1" style="border:2px solid #466d98;"> ID </div><div class="cell small-2" style="border:2px solid #466d98;"> Short Link </div><div class="cell small-6" style="border:2px solid #466d98;"> Long Link </div><div class="cell small-2" style="border:2px solid #466d98;"> Actions </div></div>',1),W={class:"cell small-1",style:{border:"2px solid #466d98"}},q={class:"cell small-2",style:{border:"2px solid #466d98"}},B={class:"cell small-6",style:{border:"2px solid #466d98"}},F={class:"cell small-2",style:{border:"2px solid #466d98"}},z={class:"cell small-2"};function J(e,t,o,r,c,l){return Object(n["p"])(),Object(n["d"])("div",$,[Object(n["g"])("div",H,[Object(n["g"])("div",N,[Object(n["g"])("div",M,[Object(n["g"])("div",R,[V,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(c.links,(function(e){return Object(n["p"])(),Object(n["d"])("div",{key:e.id,class:"grid-x"},[Object(n["g"])("div",W,Object(n["y"])(e.id),1),Object(n["g"])("div",q,[Object(n["g"])("a",{href:e.short_link},Object(n["y"])(e.short_link),9,["href"])]),Object(n["g"])("div",B,[Object(n["g"])("a",{href:e.long_link},Object(n["y"])(e.long_link),9,["href"])]),Object(n["g"])("div",F,[Object(n["g"])("button",{type:"button",class:"alert button",onClick:function(t){return l.deleteLink(e.id)}}," Delete ",8,["onClick"])])])})),128))])])]),Object(n["g"])("div",z,[Object(n["g"])("button",{type:"button",class:"button",onClick:t[1]||(t[1]=function(){return l.CreateNew&&l.CreateNew.apply(l,arguments)})}," Create ")])])])}var G=o("bc3a"),K=o.n(G),Q={data:function(){return{links:[]}},created:function(){var e=this;console.log("Getting from API"),K.a.get("http://127.0.0.1:8000/api/links/").then((function(t){var o=t.data;console.log("data is"),console.log(o);var n=o.results;console.log("mylinks:"),console.log(n),e.links=n})).catch((function(t){console.log("An error occured"),t.response&&(console.log("error is ".concat(t)),console.log(t),e.$router.push({path:"/login"}))}))},methods:{doLogin:function(){console.log("router is"),console.log(this.$router)},deleteLink:function(e){var t=this;console.log("ID is ".concat(e,". Deleting..")),K.a.delete("http://127.0.0.1:8000/api/links/".concat(e,"/")).then((function(e){var t=e.data;console.log("data is"),console.log(t);var o=t.results;console.log("results:"),console.log(o)})).catch((function(e){console.log("An error occured"),e.response&&(console.log("error is ".concat(e)),console.log(e),t.$router.push({name:"Dashboard"}))}))},CreateNew:function(){this.$router.push({name:"CreateLink"})}}};Q.render=J;var X=Q,Y={class:"grid-x"},Z=Object(n["g"])("div",{class:"cell small-4"},null,-1),ee={class:"cell small-4"},te=Object(n["g"])("label",{for:"username"}," Username ",-1),oe=Object(n["g"])("label",{for:"password"},"Password",-1),ne=Object(n["g"])("button",{type:"submit",name:"button",class:"button"},"Submit",-1);function re(e,t,o,r,c,l){return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])("div",Y,[Z,Object(n["g"])("div",ee,[Object(n["g"])("form",{onSubmit:t[3]||(t[3]=Object(n["E"])((function(){return l.login&&l.login.apply(l,arguments)}),["prevent"]))},[te,Object(n["D"])(Object(n["g"])("input",{type:"text",name:"username","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.username=e})},null,512),[[n["A"],c.username]]),oe,Object(n["D"])(Object(n["g"])("input",{type:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e})},null,512),[[n["A"],c.password]]),ne],32)])])])}o("99af");var ce={data:function(){return{username:"",password:""}},methods:{login:function(){var e=this;console.log("Before logging in, username:".concat(this.username," password:").concat(this.password)),console.log("In login function..trying to obtain token."),this.$store.dispatch("login",{username:this.username,password:this.password}).then((function(){e.$router.push({name:"Dashboard"})}))}}};ce.render=re;var le=ce,se={class:"grid-container"},ae={class:"grid-x grid-padding-x"},ie=Object(n["g"])("div",{class:"small-3 cell"},[Object(n["g"])("label",{for:"long-link",class:"text-right"},"Long Link")],-1),ue={class:"small-9 cell"},de={class:"grid-x grid-padding-x"},ge={class:"cell"};function be(e,t,o,r,c,l){return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])("div",se,[Object(n["g"])("form",{onSubmit:t[3]||(t[3]=Object(n["E"])((function(){}),["prevent"]))},[Object(n["g"])("div",ae,[ie,Object(n["g"])("div",ue,[Object(n["D"])(Object(n["g"])("input",{type:"text",id:"long-link","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.longLink=e}),placeholder:"Long link to be shortened",autocomplete:"off"},null,512),[[n["A"],c.longLink]])])]),Object(n["g"])("div",de,[Object(n["g"])("div",ge,[Object(n["g"])("button",{type:"submit",class:"button",onClick:t[2]||(t[2]=function(){return l.CreateShortLink&&l.CreateShortLink.apply(l,arguments)})},"Shorten")])])],32)])])}var pe={data:function(){return{longLink:"",shortLink:""}},methods:{CreateShortLink:function(){K.a.post("http://127.0.0.1:8000/api/links/",{long_link:this.longLink}).then((function(e){var t=e.data;console.log("data is"),console.log(t);var o=t.results;console.log("results:"),console.log(o)})).catch((function(e){console.log("An error occured"),e.response&&(console.log("error is ".concat(e)),console.log(e))}))}}};pe.render=be;var fe=pe,me=[{path:"/",name:"Home",component:U},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}},{path:"/dashboard",name:"Dashboard",component:X},{path:"/login",name:"Login",component:le},{path:"/createlink",name:"CreateLink",component:fe}],je=Object(y["a"])({history:Object(y["b"])(),routes:me}),Oe=je,ve=o("5502"),he=Object(ve["a"])({state:{user_id:null,email:null,token:null},mutations:{SET_USER_DATA:function(e,t){console.log("In mutation:SET_USER_DATA user_id:".concat(t.user_id," email:").concat(t.email," token:").concat(t.token)),e.user_id=t.user_id,e.email=t.email,e.token=t.token,localStorage.setItem("user_id",t.user_id),localStorage.setItem("email",t.email),localStorage.setItem("token",t.token),K.a.defaults.headers.common["Authorization"]="Token ".concat(t.token),console.log("Stored token as ".concat(K.a.defaults.headers.common["Authorization"]))}},actions:{login:function(e,t){var o=this,n=e.commit;return K.a.post("http://127.0.0.1:8000/api/api-token-auth/",{username:t.username,password:t.password}).then((function(e){var t=e.data;console.log("Login Successful!"),console.log("After trying to login, data is"),console.log(t),console.log("Commiting to store."),n("SET_USER_DATA",t)})).catch((function(e){console.log("An error occured"),console.log(e),e.response&&(console.log("Router is "),console.log(o.$router))}))}},modules:{}}),ke=o("2106"),ye=o.n(ke);Object(n["c"])(h).use(he).use(Oe).use(ye.a,K.a).mount("#app")},ac45:function(e,t,o){},b98b:function(e,t,o){},cf05:function(e,t,o){e.exports=o.p+"img/logo.png"}});
//# sourceMappingURL=app.js.map